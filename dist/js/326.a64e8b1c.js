"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[326],{4677:function(t,e,a){var s=a(9876),o=a(594),c=a(6294);const n=(0,c.Z)();e["Z"]=(0,s.Q_)("cartStore",{state:()=>({nowPage:"",pageCount:1,order:{user:{},products:{}},cartList:[]}),actions:{getCartPage(t="cart"){switch(this.nowPage=t,t){case"cart":this.pageCount=1;break;case"order":this.pageCount=2;break;case"checkout":this.pageCount=3;break;case"finished":this.pageCount=4,setTimeout((()=>{this.pageCount++}),1500);break}},getOrder(t){const e=`https://vue3-course-api.hexschool.io/api/ldd-api/order/${t}`;o.Z.get(e).then((t=>{const e=t.data.order;this.order=e}))},addToCart(t,e=1){const a="https://vue3-course-api.hexschool.io/api/ldd-api/cart";n.loadingItem=t.id;const s={product_id:t.id,qty:e};o.Z.post(a,{data:s}).then((t=>{n.loadingItem="",this.getCartData()}))},getCartData(){n.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/ldd-api/cart";o.Z.get(t).then((t=>{t.data.success&&(n.isLoading=!1,this.cartList=t.data.data.carts)}))},delProductFromCart(t){const e=`https://vue3-course-api.hexschool.io/api/ldd-api/cart/${t}`;o.Z["delete"](e).then((t=>{this.getCartData()}))},updateCart(t){n.isLoading=!0,n.loadingItem=t.id;const e={product_id:t.product_id,qty:t.qty},a=`https://vue3-course-api.hexschool.io/api/ldd-api/cart/${t.id}`;this.$http.put(a,{data:e}).then((()=>{n.isLoading=!1,n.loadingItem="",this.getCartData()}))}}})},6294:function(t,e,a){var s=a(9876);e["Z"]=(0,s.Q_)("statusStore",{state:()=>({isLoading:!1,loadingItem:""})})},6326:function(t,e,a){a.r(e),a.d(e,{default:function(){return q}});var s=a(6252);const o={class:"container"},c={class:"mt-6 mb-6 pt-md-6 px-md-6"},n={class:"row justify-content-center"},i={class:"col-md-10"},p={class:"cart-container shadow-lg rounded overflow-hidden pt-5"};function r(t,e,a,r,d,l){const u=(0,s.up)("CartSteps"),_=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("section",c,[(0,s._)("div",n,[(0,s._)("div",i,[(0,s._)("div",p,[(0,s.Wm)(u),(0,s.Wm)(_)])])])])])}var d=a(3577);const l={class:"steps"},u=(0,s._)("span",{class:"step__icon"},null,-1),_=(0,s._)("span",{class:"step__label"},"購物車",-1),h=[u,_],g=(0,s._)("span",{class:"step__icon"},null,-1),v=(0,s._)("span",{class:"step__label"},"填寫資料",-1),C=[g,v],m=(0,s._)("span",{class:"step__icon"},null,-1),w=(0,s._)("span",{class:"step__label"},"確認訂單",-1),f=[m,w],b=(0,s._)("span",{class:"step__icon"},null,-1),k=(0,s._)("span",{class:"step__label"},"完成",-1),Z=[b,k];function P(t,e,a,o,c,n){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("ul",l,[(0,s._)("li",{class:(0,d.C_)(["step step--incomplete step--inactive",{"step--active":"cart"===t.nowPage,"step--complete":t.pageCount>1}])},h,2),(0,s._)("li",{class:(0,d.C_)(["step step--incomplete step--inactive",{"step--active":"order"===t.nowPage,"step--complete":t.pageCount>2}])},C,2),(0,s._)("li",{class:(0,d.C_)(["step step--incomplete step--inactive",{"step--active":"checkout"===t.nowPage,"step--complete":t.pageCount>3}])},f,2),(0,s._)("li",{class:(0,d.C_)(["step step--incomplete step--inactive",{"step--active":"finished"===t.nowPage,"step--complete":t.pageCount>4}])},Z,2)])])}var L=a(9876),x=a(4677),D={data(){return{}},computed:{...(0,L.rn)(x.Z,["nowPage","pageCount"])}},I=a(3744);const y=(0,I.Z)(D,[["render",P]]);var S=y,$={data(){return{}},components:{CartSteps:S},methods:{}};const j=(0,I.Z)($,[["render",r],["__scopeId","data-v-d24e568a"]]);var q=j}}]);
//# sourceMappingURL=326.a64e8b1c.js.map