{"version":3,"file":"js/326.a64e8b1c.js","mappings":"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","sources":["webpack://new-project/./src/stores/cartStore.js","webpack://new-project/./src/stores/statusStore.js","webpack://new-project/./src/views/CartPageView.vue","webpack://new-project/./src/components/CartSteps.vue","webpack://new-project/./src/components/CartSteps.vue?0342","webpack://new-project/./src/views/CartPageView.vue?7d96"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('cartStore', {\r\n  state: () => ({\r\n    // 購物車四頁資料\r\n    nowPage: '',\r\n    pageCount: 1,\r\n    order: {\r\n      user: {},\r\n      products: {}\r\n    },\r\n    // 購物車列表\r\n    cartList: []\r\n  }),\r\n  actions: {\r\n    getCartPage (page = 'cart') {\r\n      this.nowPage = page\r\n      switch (page) {\r\n        case 'cart':\r\n          this.pageCount = 1\r\n          break\r\n        case 'order':\r\n          this.pageCount = 2\r\n          break\r\n        case 'checkout':\r\n          this.pageCount = 3\r\n          break\r\n        case 'finished':\r\n          this.pageCount = 4\r\n          setTimeout(() => {\r\n            this.pageCount++\r\n          }, 1500)\r\n          break\r\n      }\r\n    },\r\n    getOrder (id) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          const order = res.data.order\r\n          this.order = order\r\n        })\r\n    },\r\n    addToCart (product, qty = 1) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      status.loadingItem = product.id\r\n      const cart = {\r\n        product_id: product.id,\r\n        qty: qty\r\n      }\r\n      axios.post(api, { data: cart })\r\n        .then((res) => {\r\n          // this.pushMessageState(res, `${product.title ? `\"${product.title}\"` : ''}放入購物車`)\r\n          status.loadingItem = ''\r\n          this.getCartData()\r\n        })\r\n    },\r\n    getCartData () {\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            this.cartList = res.data.data.carts\r\n          }\r\n        })\r\n    },\r\n    delProductFromCart (id) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      axios.delete(api)\r\n        .then((res) => {\r\n          this.getCartData()\r\n        })\r\n    },\r\n    updateCart (product) {\r\n      status.isLoading = true\r\n      status.loadingItem = product.id\r\n      const cart = {\r\n        product_id: product.product_id,\r\n        qty: product.qty\r\n      }\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${product.id}`\r\n      this.$http.put(api, { data: cart })\r\n        .then(() => {\r\n          status.isLoading = false\r\n          status.loadingItem = ''\r\n          this.getCartData()\r\n        })\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: false,\r\n    loadingItem: ''\r\n  })\r\n})\r\n","<template>\r\n  <div class=\"container\">\r\n    <section class=\"mt-6 mb-6 pt-md-6 px-md-6\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-10\">\r\n          <div class=\"cart-container shadow-lg rounded overflow-hidden pt-5\">\r\n            <CartSteps></CartSteps>\r\n            <router-view/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.overflow-hidden {\r\n  overflow: hidden;\r\n}\r\n\r\n.cart-header {\r\n  background: #efdfc8;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport CartSteps from '@/components/CartSteps.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  components: {\r\n    CartSteps\r\n  },\r\n  methods: {\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div>\r\n    <ul class=\"steps\">\r\n      <li class=\"step step--incomplete step--inactive\" :class=\"{'step--active': nowPage === 'cart', 'step--complete': pageCount > 1}\">\r\n        <span class=\"step__icon\"></span>\r\n        <span class=\"step__label\">購物車</span>\r\n      </li>\r\n      <li class=\"step step--incomplete step--inactive\" :class=\"{'step--active': nowPage === 'order', 'step--complete': pageCount > 2}\">\r\n        <span class=\"step__icon\"></span>\r\n        <span class=\"step__label\">填寫資料</span>\r\n      </li>\r\n      <li class=\"step step--incomplete step--inactive\" :class=\"{'step--active': nowPage === 'checkout', 'step--complete': pageCount > 3}\">\r\n        <span class=\"step__icon\"></span>\r\n        <span class=\"step__label\">確認訂單</span>\r\n      </li>\r\n      <li class=\"step step--incomplete step--inactive\" :class=\"{'step--active': nowPage === 'finished', 'step--complete': pageCount > 4}\">\r\n        <span class=\"step__icon\"></span>\r\n        <span class=\"step__label\">完成</span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'pinia'\r\nimport cartStore from '@/stores/cartStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(cartStore, ['nowPage', 'pageCount'])\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartSteps.vue?vue&type=template&id=c2b0f630\"\nimport script from \"./CartSteps.vue?vue&type=script&lang=js\"\nexport * from \"./CartSteps.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\沈長昱\\\\Desktop\\\\程式資料夾\\\\Vue3\\\\vue3 電商\\\\new-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CartPageView.vue?vue&type=template&id=d24e568a&scoped=true\"\nimport script from \"./CartPageView.vue?vue&type=script&lang=js\"\nexport * from \"./CartPageView.vue?vue&type=script&lang=js\"\n\nimport \"./CartPageView.vue?vue&type=style&index=0&id=d24e568a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\沈長昱\\\\Desktop\\\\程式資料夾\\\\Vue3\\\\vue3 電商\\\\new-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d24e568a\"]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","nowPage","pageCount","order","user","products","cartList","actions","getCartPage","page","this","setTimeout","getOrder","id","api","axios","then","res","data","addToCart","product","qty","loadingItem","cart","product_id","getCartData","isLoading","success","carts","delProductFromCart","updateCart","$http","put","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_CartSteps","_component_router_view","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_12","_ctx","computed","mapState","cartStore","__exports__","components","CartSteps","methods","render"],"sourceRoot":""}