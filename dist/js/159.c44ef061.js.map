{"version":3,"file":"js/159.c44ef061.js","mappings":"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","sources":["webpack://new-project/./node_modules/core-js/internals/delete-property-or-throw.js","webpack://new-project/./node_modules/core-js/modules/es.array.unshift.js","webpack://new-project/./src/stores/productStore.js","webpack://new-project/./src/stores/statusStore.js","webpack://new-project/./src/views/AnimalsView.vue","webpack://new-project/./src/views/AnimalsView.vue?5cd5"],"sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('productStore', {\r\n  state: () => ({\r\n    productList: [],\r\n    productCategoryList: [],\r\n    categorys: [],\r\n    categoryNow: '全部商品',\r\n    // 單一產品\r\n    product: {},\r\n    similarList: [],\r\n    // 動物列表\r\n    animalList: []\r\n  }),\r\n  actions: {\r\n    // 產品列表\r\n    getProducts (whichList) {\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            if (whichList) {\r\n              this.productList = res.data.products.filter(product => product.category !== '動物')\r\n              this.productCategoryList = this.productList\r\n              this.pagination = res.data.pagination\r\n              this.getCategoryList()\r\n            } else {\r\n              this.animalList = res.data.products.filter(product => product.category === '動物')\r\n            }\r\n          }\r\n        })\r\n    },\r\n    categoryChange (category) {\r\n      this.categoryNow = category\r\n      this.productCategoryList = category === '全部商品' ? this.productList : this.productList.filter(product => product.category === category)\r\n    },\r\n    getCategoryList () {\r\n      const categoryAll = this.productList.map((product) => product.category)\r\n      this.categorys = Array.from(new Set(categoryAll))\r\n      this.categorys.unshift('全部商品')\r\n    },\r\n    // 單產品介面\r\n    getProduct (id) {\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            this.product = res.data.product\r\n            this.getSimilar()\r\n          }\r\n        })\r\n    },\r\n    getSimilar () {\r\n      this.similarList = []\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            const arr = res.data.products.filter(product => product.category === this.product.category)\r\n            const index = arr.findIndex(product => product.id === this.product.id)\r\n            const randomNum = []\r\n            for (let i = 0; i < arr.length; i++) {\r\n              randomNum.push(i)\r\n            }\r\n            randomNum.sort(() => 0.5 - Math.random())\r\n            const removeIndex = randomNum.findIndex(num => num === index)\r\n            randomNum.splice(removeIndex, 1)\r\n            this.similarList.push(arr[randomNum[0]])\r\n            this.similarList.push(arr[randomNum[1]])\r\n            this.similarList.push(arr[randomNum[2]])\r\n          }\r\n        })\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: false,\r\n    loadingItem: ''\r\n  })\r\n})\r\n","<template>\r\n  <div class=\"container p-6 mt-5\">\r\n    <div class=\"row row-cols-3 g-3\">\r\n      <div class=\"col\">\r\n        <div class=\"rounded-4 border overflow-hidden my-3 position-relative animal\" :class=\"{'d-none': key % 3 !== 0}\" v-for=\"(animal, key) in animalList\" :key=\"animal.title\">\r\n          <div class=\"position-absolute w-100 text-white\" style=\"background-color: rgba(0, 0, 0, 0.3);\">\r\n            <h3 class=\"text-center mb-0 py-1\">{{ animal.title }}</h3>\r\n          </div>\r\n          <img :src=\"animal.imageUrl\" class=\"w-100\" alt=\"\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col\">\r\n        <div class=\"rounded-4 border overflow-hidden my-3 position-relative animal\" :class=\"{'d-none': key % 3 !== 1}\" v-for=\"(animal, key) in animalList\" :key=\"animal.title\">\r\n          <div class=\"position-absolute w-100 text-white\" style=\"background-color: rgba(0, 0, 0, 0.3);\">\r\n            <h3 class=\"text-center mb-0 py-1\">{{ animal.title }}</h3>\r\n          </div>\r\n          <img :src=\"animal.imageUrl\" class=\"w-100\" alt=\"\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col\">\r\n        <div class=\"rounded-4 border overflow-hidden my-3 position-relative animal\" :class=\"{'d-none': key % 3 !== 2}\" v-for=\"(animal, key) in animalList\" :key=\"animal.title\">\r\n          <div class=\"position-absolute w-100 text-white\" style=\"background-color: rgba(0, 0, 0, 0.3);\">\r\n            <h3 class=\"text-center mb-0 py-1\">{{ animal.title }}</h3>\r\n          </div>\r\n          <img :src=\"animal.imageUrl\" class=\"w-100\" alt=\"\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.animal {\r\n  transition: .5s;\r\n}\r\n\r\n.animal > div {\r\n  top: -50px;\r\n  transition: .5s;\r\n}\r\n\r\n.animal:hover {\r\n  box-shadow: 0 0 3px 3px rgb(182, 179, 179, 0.9);\r\n}\r\n\r\n.animal:hover > div {\r\n  top: 0 !important;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'pinia'\r\nimport productStore from '@/stores/productStore'\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState(productStore, ['animalList'])\r\n  },\r\n  methods: {\r\n    ...mapActions(productStore, ['getProducts'])\r\n  },\r\n  created () {\r\n    this.getProducts(false)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AnimalsView.vue?vue&type=template&id=304bf8c1\"\nimport script from \"./AnimalsView.vue?vue&type=script&lang=js\"\nexport * from \"./AnimalsView.vue?vue&type=script&lang=js\"\n\nimport \"./AnimalsView.vue?vue&type=style&index=0&id=304bf8c1&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\沈長昱\\\\Desktop\\\\程式資料夾\\\\Vue3\\\\vue3 電商\\\\new-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","unshift","SILENT_ON_NON_WRITABLE_LENGTH","Object","defineProperty","writable","error","target","proto","arity","forced","item","this","len","argCount","arguments","length","k","to","j","status","statusStore","defineStore","state","productList","productCategoryList","categorys","categoryNow","product","similarList","animalList","actions","getProducts","whichList","isLoading","api","axios","then","res","data","success","products","filter","category","pagination","getCategoryList","categoryChange","categoryAll","map","Array","from","Set","getProduct","id","getSimilar","arr","index","findIndex","randomNum","i","push","sort","Math","random","removeIndex","num","splice","loadingItem","class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_ctx","animal","key","title","_hoisted_4","_hoisted_5","src","imageUrl","alt","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","computed","mapState","productStore","methods","mapActions","created","__exports__","render"],"sourceRoot":""}