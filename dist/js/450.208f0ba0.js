"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[450],{5117:function(t,a,i){var e=i(6330),s=TypeError;t.exports=function(t,a){if(!delete t[a])throw s("Cannot delete property "+e(a)+" of "+e(t))}},541:function(t,a,i){var e=i(2109),s=i(7908),o=i(6244),c=i(3658),d=i(5117),r=i(7207),l=1!==[].unshift(0),n=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();e({target:"Array",proto:!0,arity:1,forced:l||n},{unshift:function(t){var a=s(this),i=o(a),e=arguments.length;if(e){r(i+e);var l=i;while(l--){var n=l+e;l in a?a[n]=a[l]:d(a,n)}for(var p=0;p<e;p++)a[p]=arguments[p]}return c(a,i+e)}})},4677:function(t,a,i){var e=i(9876),s=i(594),o=i(6294);const c=(0,o.Z)();a["Z"]=(0,e.Q_)("cartStore",{state:()=>({nowPage:"",pageCount:1,order:{user:{},products:{}},cartList:[]}),actions:{getCartPage(t="cart"){switch(this.nowPage=t,t){case"cart":this.pageCount=1;break;case"order":this.pageCount=2;break;case"checkout":this.pageCount=3;break;case"finished":this.pageCount=4,setTimeout((()=>{this.pageCount++}),1500);break}},getOrder(t){const a=`https://vue3-course-api.hexschool.io/api/ldd-api/order/${t}`;s.Z.get(a).then((t=>{const a=t.data.order;this.order=a}))},addToCart(t,a=1){const i="https://vue3-course-api.hexschool.io/api/ldd-api/cart";c.loadingItem=t.id;const e={product_id:t.id,qty:a};s.Z.post(i,{data:e}).then((t=>{c.loadingItem="",this.getCartData()}))},getCartData(){c.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/ldd-api/cart";s.Z.get(t).then((t=>{t.data.success&&(c.isLoading=!1,this.cartList=t.data.data.carts)}))},delProductFromCart(t){const a=`https://vue3-course-api.hexschool.io/api/ldd-api/cart/${t}`;s.Z["delete"](a).then((t=>{this.getCartData()}))},updateCart(t){c.isLoading=!0,c.loadingItem=t.id;const a={product_id:t.product_id,qty:t.qty},i=`https://vue3-course-api.hexschool.io/api/ldd-api/cart/${t.id}`;this.$http.put(i,{data:a}).then((()=>{c.isLoading=!1,c.loadingItem="",this.getCartData()}))}}})},4238:function(t,a,i){i(541),i(7658);var e=i(9876),s=i(594),o=i(6294);const c=(0,o.Z)();a["Z"]=(0,e.Q_)("productStore",{state:()=>({productList:[],productCategoryList:[],pagination:{},categorys:[],categoryNow:"全部商品",product:{},similarList:[],animalList:[]}),actions:{getProducts(t=1){c.isLoading=!0;const a=`https://vue3-course-api.hexschool.io/api/ldd-api/products?page=${t}`;s.Z.get(a).then((t=>{t.data.success&&(c.isLoading=!1,console.log(t),this.productList=t.data.products,this.productCategoryList=this.productList,this.pagination=t.data.pagination,this.getCategoryList())}))},categoryChange(t){this.categoryNow=t,this.productCategoryList="全部商品"===t?this.productList:this.productList.filter((a=>a.category===t))},getCategoryList(){const t=this.productList.map((t=>t.category));this.categorys=Array.from(new Set(t)),this.categorys.unshift("全部商品")},getProduct(t){c.isLoading=!0;const a=`https://vue3-course-api.hexschool.io/api/ldd-api/product/${t}`;s.Z.get(a).then((t=>{t.data.success&&(c.isLoading=!1,this.product=t.data.product,this.getSimilar())}))},getSimilar(){this.similarList=[],c.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/ldd-api/products/all";s.Z.get(t).then((t=>{if(t.data.success){c.isLoading=!1;const a=t.data.products.filter((t=>t.category===this.product.category)),i=a.findIndex((t=>t.id===this.product.id)),e=[];for(let t=0;t<a.length;t++)e.push(t);e.sort((()=>.5-Math.random()));const s=e.findIndex((t=>t===i));e.splice(s,1),this.similarList.push(a[e[0]]),this.similarList.push(a[e[1]]),this.similarList.push(a[e[2]])}}))},getAnimalList(){c.isLoading=!0;const t="http://localhost:5000/animals";s.Z.get(t).then((t=>{c.isLoading=!1,console.log(t.data),this.animalList=t.data}))}}})},6294:function(t,a,i){var e=i(9876);a["Z"]=(0,e.Q_)("statusStore",{state:()=>({isLoading:!1,loadingItem:""})})},4450:function(t,a,i){i.r(a),i.d(a,{default:function(){return lt}});var e=i(6252),s=i(3577),o=i(9963);const c=t=>((0,e.dD)("data-v-13b2184c"),t=t(),(0,e.Cn)(),t),d=c((()=>(0,e._)("div",{class:"loadingio-spinner-ripple-o01nobacpbk"},[(0,e._)("div",{class:"ldio-0zlqpdibb6ki"},[(0,e._)("div"),(0,e._)("div")])],-1))),r={class:"container py-6"},l={class:"row justify-content-center g-3 g-md-5","data-aos":"fade-right","data-aos-anchor-placement":"top-bottom"},n={class:"col-md-6 col-lg-5",style:{height:"500px"}},p=["src"],u={class:"col-md-6 col-lg-5"},h={class:"row"},g={class:"col-12"},m={class:"fw-bold-bottom pb-3"},v=c((()=>(0,e._)("br",null,null,-1))),b={class:"text-white bg-secondary rounded fs-7 px-2 py-1"},f={class:"col-12"},y={class:"border-bottom"},_=c((()=>(0,e._)("p",{class:"mb-0"},"【產品描述】",-1))),k={class:"text-success lh-lg"},w={key:0,class:"mb-3"},x=(0,e.uE)('<span data-v-13b2184c>尺寸: </span><div class="form-check form-check-inline" data-v-13b2184c><input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked data-v-13b2184c><label class="form-check-label" for="exampleRadios1" data-v-13b2184c> S </label></div><div class="form-check form-check-inline" data-v-13b2184c><input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2" data-v-13b2184c><label class="form-check-label" for="exampleRadios2" data-v-13b2184c> M </label></div><div class="form-check form-check-inline" data-v-13b2184c><input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" data-v-13b2184c><label class="form-check-label" for="exampleRadios3" data-v-13b2184c> L </label></div><div class="form-check form-check-inline" data-v-13b2184c><input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" data-v-13b2184c><label class="form-check-label" for="exampleRadios3" data-v-13b2184c> XL </label></div>',5),L=[x],C={class:"row"},I={class:"col-6"},Z={class:"input-group mb-3"},q=["disabled"],D={class:"col-6"},R={class:"fs-5 text-end mb-1"},j={class:"d-flex mt-3"},P=["disabled"],T={key:0},z={key:1,class:"spinner-border spinner-border-sm text-white",role:"status"},S=c((()=>(0,e._)("span",{class:"visually-hidden"},null,-1))),U=[S],$=c((()=>(0,e._)("h3",{class:"h4 text-center mt-md-6 mt-5 similarTitle"},"為您推薦相似",-1))),M={class:"row row-cols-md-3 row-cols-1 g-3 g-lg-5 mt-3"},W=["data-aos-delay"],N={class:"card h-100"},A={class:"container-img"},E=["src","alt"],O={class:"card-body d-flex flex-column"},Q={class:"card-title"},H={class:"text-white bg-secondary rounded fs-8 px-1 ms-2"},Y={class:"d-flex flex-column justify-content-between h-100"},B={class:"card-text mb-1 fs-7"},F={class:"card-text text-end"},K={class:"card-footer"},V=["onClick"],X={class:"d-flex align-items-center justify-content-center",style:{width:"24px",height:"24px"}},G={key:1,class:"spinner-grow text-primary spinner-grow-sm",role:"status"},J=c((()=>(0,e._)("span",{class:"visually-hidden"},null,-1))),tt=[J];function at(t,a,i,c,x,S){const J=(0,e.up)("LoadingOverlay"),at=(0,e.up)("font-awesome-icon"),it=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(J,{active:t.isLoading},{default:(0,e.w5)((()=>[d])),_:1},8,["active"]),(0,e._)("div",r,[(0,e._)("div",l,[(0,e._)("div",n,[(0,e._)("img",{src:t.product.imageUrl,alt:"",class:"w-100 h-100 object-fit-cover"},null,8,p)]),(0,e._)("div",u,[(0,e._)("div",h,[(0,e._)("div",g,[(0,e._)("h2",m,[(0,e.Uk)((0,s.zw)(t.product.title),1),v,(0,e._)("span",b,(0,s.zw)(t.product.category),1)])]),(0,e._)("div",f,[(0,e._)("div",y,[_,(0,e._)("div",k,(0,s.zw)(t.product.description),1),"衣服"===t.product.category?((0,e.wg)(),(0,e.iD)("div",w,L)):(0,e.kq)("",!0),(0,e._)("div",C,[(0,e._)("div",I,[(0,e._)("div",Z,[(0,e._)("a",{href:"#",onClick:a[0]||(a[0]=(0,o.iM)((t=>S.qtyCount(!0)),["prevent"])),class:(0,s.C_)(["input-group-text btn btn-primary",{disabled:t.loadingItem}]),id:"basic-addon1"},[(0,e.Wm)(at,{icon:"fa-solid fa-caret-up"})],2),(0,e.wy)((0,e._)("input",{type:"number",class:"form-control",placeholder:"你想購買的數量","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[1]||(a[1]=t=>x.qty=t),disabled:""!==t.loadingItem},null,8,q),[[o.nr,x.qty]]),(0,e._)("a",{href:"#",onClick:a[2]||(a[2]=(0,o.iM)((t=>S.qtyCount(!1)),["prevent"])),class:(0,s.C_)(["input-group-text btn btn-primary",{disabled:t.loadingItem}]),id:"basic-addon1"},[(0,e.Wm)(at,{icon:"fa-solid fa-caret-down"})],2)])]),(0,e._)("div",D,[(0,e._)("div",R,"NT "+(0,s.zw)(t.product.price),1)])])])]),(0,e._)("div",j,[(0,e._)("button",{type:"button",onClick:a[3]||(a[3]=a=>t.addToCart(t.product,x.qty)),class:"btn btn-primary px-3 d-block ms-auto",disabled:0===x.qty||""!==t.loadingItem,style:{width:"150px"}},[t.loadingItem?((0,e.wg)(),(0,e.iD)("div",z,U)):((0,e.wg)(),(0,e.iD)("div",T,[(0,e.Wm)(at,{icon:"fa-solid fa-cart-plus"}),(0,e.Uk)(" 加入購物車 ")]))],8,P)])])])]),$,(0,e._)("div",M,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.similarList,((a,i)=>((0,e.wg)(),(0,e.iD)("div",{class:"col",key:a.id,"data-aos":"fade-up","data-aos-anchor-placement":"top-bottom","data-aos-delay":2*i+"00","data-aos-duration":"1500"},[(0,e._)("div",N,[(0,e._)("div",A,[(0,e._)("img",{src:a.imageUrl,class:"card-img-top object-fit-cover",alt:a.title,style:{height:"200px"}},null,8,E)]),(0,e._)("div",O,[(0,e._)("h5",Q,[(0,e.Uk)((0,s.zw)(a.title)+" ",1),(0,e._)("span",H,(0,s.zw)(a.category),1)]),(0,e._)("div",Y,[(0,e._)("p",B,(0,s.zw)(a.description),1),(0,e._)("p",F,"$NT "+(0,s.zw)(a.price),1)])]),(0,e._)("div",K,[(0,e.Wm)(it,{to:`/userboard/productList/${a.id}`,onClick:(0,o.iM)((i=>{t.getProduct(a.id)}),["prevent"]),class:(0,s.C_)(["btn btn-outline-primary",{"stretched-link":t.loadingItem!==a.id&&""===t.loadingItem}])},{default:(0,e.w5)((()=>[(0,e.Uk)("查看商品")])),_:2},1032,["to","onClick","class"]),(0,e._)("a",{href:"#",onClick:(0,o.iM)((i=>t.addToCart(a)),["prevent"]),class:(0,s.C_)(["btn btn-outline-primary position-absolute cartBtn fs-4 d-block",{disabled:t.loadingItem===a.id}])},[(0,e._)("div",X,[t.loadingItem!==a.id?((0,e.wg)(),(0,e.j4)(at,{key:0,icon:"fa-solid fa-cart-plus"})):((0,e.wg)(),(0,e.iD)("div",G,tt))])],10,V)])])],8,W)))),128))])])],64)}var it=i(9876),et=i(4677),st=i(4238),ot=i(6294),ct={data(){return{qty:1}},inject:["pushMessageState","emitter"],props:["id"],computed:{...(0,it.rn)(st.Z,["product","similarList"]),...(0,it.rn)(ot.Z,["isLoading","loadingItem"])},methods:{...(0,it.nv)(et.Z,["addToCart"]),...(0,it.nv)(st.Z,["getProduct"]),qtyCount(t){t?this.qty++:this.qty>0?this.qty--:this.qty=0}},created(){this.getProduct(this.id)}},dt=i(3744);const rt=(0,dt.Z)(ct,[["render",at],["__scopeId","data-v-13b2184c"]]);var lt=rt}}]);
//# sourceMappingURL=450.208f0ba0.js.map