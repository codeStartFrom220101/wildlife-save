"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[424],{5117:function(t,i,s){var o=s(6330),e=TypeError;t.exports=function(t,i){if(!delete t[i])throw e("Cannot delete property "+o(i)+" of "+o(t))}},541:function(t,i,s){var o=s(2109),e=s(7908),a=s(6244),r=s(3658),n=s(5117),c=s(7207),l=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:l||d},{unshift:function(t){var i=e(this),s=a(i),o=arguments.length;if(o){c(s+o);var l=s;while(l--){var d=l+o;l in i?i[d]=i[l]:n(i,d)}for(var u=0;u<o;u++)i[u]=arguments[u]}return r(i,s+o)}})},4238:function(t,i,s){s(541),s(7658);var o=s(9876),e=s(594),a=s(6294),r=s(6904);const n=(0,a.Z)();i["Z"]=(0,o.Q_)("productStore",{state:()=>({productList:[],productCategoryList:[],pagination:{},categorys:[],categoryNow:"全部商品",product:{},similarList:[],animalList:[]}),actions:{getProducts(t=1){n.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/ldd-api/products?page=${t}`;e.Z.get(i).then((t=>{t.data.success&&(n.isLoading=!1,console.log(t),this.productList=t.data.products,this.productCategoryList=this.productList,this.pagination=t.data.pagination,this.getCategoryList())}))},categoryChange(t){this.categoryNow=t,this.productCategoryList="全部商品"===t?this.productList:this.productList.filter((i=>i.category===t))},getCategoryList(){const t=this.productList.map((t=>t.category));this.categorys=Array.from(new Set(t)),this.categorys.unshift("全部商品")},getProduct(t){n.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/ldd-api/product/${t}`;e.Z.get(i).then((t=>{t.data.success&&(n.isLoading=!1,this.product=t.data.product,this.getSimilar())}))},getSimilar(){this.similarList=[],n.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/ldd-api/products/all";e.Z.get(t).then((t=>{if(t.data.success){n.isLoading=!1;const i=t.data.products.filter((t=>t.category===this.product.category)),s=i.findIndex((t=>t.id===this.product.id)),o=[];for(let t=0;t<i.length;t++)o.push(t);o.sort((()=>.5-Math.random()));const e=o.findIndex((t=>t===s));o.splice(e,1),this.similarList.push(i[o[0]]),this.similarList.push(i[o[1]]),this.similarList.push(i[o[2]])}}))},getAnimalList(){n.isLoading=!0,r.db.ref("/animals").once("value").then((t=>{n.isLoading=!1,this.animalList=t.val()}))}}})},8424:function(t,i,s){s.r(i),s.d(i,{default:function(){return q}});var o=s(6252),e=s(3577);const a=(0,o._)("div",{class:"loadingio-spinner-ripple-o01nobacpbk"},[(0,o._)("div",{class:"ldio-0zlqpdibb6ki"},[(0,o._)("div"),(0,o._)("div")])],-1),r={class:"container p-6 mt-5"},n={class:"row row-cols-3 g-3 d-none d-md-flex"},c={class:"col"},l=["onClick"],d={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},u={class:"text-center mb-0 py-1"},p=["src","alt"],g={class:"col"},h=["onClick"],y={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},m={class:"text-center mb-0 py-1"},w=["src","alt"],v={class:"col"},f=["onClick"],L={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},b={class:"text-center mb-0 py-1"},_=["src","alt"],k={class:"row row-cols-1 d-md-none"},C={class:"col"},x=["onClick"],D={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},Z={class:"text-center mb-0 py-1"},z=["src"],A={key:0,class:"position-fixed bottom-0 w-100 bg-secondary text-white story-container p-md-4 p-2"};function H(t,i,s,H,U,Y){const K=(0,o.up)("LoadingOverlay");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(K,{active:t.isLoading},{default:(0,o.w5)((()=>[a])),_:1},8,["active"]),(0,o._)("div",r,[(0,o._)("div",n,[(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,e.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==0}]),key:t.name,onClick:i=>U.story=t.story},[(0,o._)("div",d,[(0,o._)("h3",u,(0,e.zw)(t.name),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:t.s},null,8,p)],10,l)))),128))]),(0,o._)("div",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,e.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==1}]),key:t.name,onClick:i=>U.story=t.story},[(0,o._)("div",y,[(0,o._)("h3",m,(0,e.zw)(t.name),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:t.s},null,8,w)],10,h)))),128))]),(0,o._)("div",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,e.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==2}]),key:t.name,onClick:i=>U.story=t.story},[(0,o._)("div",L,[(0,o._)("h3",b,(0,e.zw)(t.name),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:t.species},null,8,_)],10,f)))),128))])]),(0,o._)("div",k,[(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"rounded-4 border overflow-hidden my-3 position-relative animal",key:t.name,onClick:i=>U.story=t.story},[(0,o._)("div",D,[(0,o._)("h3",Z,(0,e.zw)(t.name),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,z)],8,x)))),128))])])]),""!==U.story?((0,o.wg)(),(0,o.iD)("div",A,[(0,o._)("button",{type:"button",class:"position-absolute btn btn-outline-secondary rounded-0",style:{top:"-36px"},onClick:i[0]||(i[0]=t=>U.story="")},"關閉"),(0,o.Uk)(" "+(0,e.zw)(U.story),1)])):(0,o.kq)("",!0)],64)}var U=s(9876),Y=s(4238),K=s(6294),S={data(){return{story:""}},computed:{...(0,U.rn)(Y.Z,["animalList"]),...(0,U.rn)(K.Z,["isLoading"])},methods:{...(0,U.nv)(Y.Z,["getAnimalList"])},created(){this.getAnimalList()}},j=s(3744);const P=(0,j.Z)(S,[["render",H]]);var q=P}}]);
//# sourceMappingURL=424.02e90d63.js.map