"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[242],{5117:function(t,i,s){var a=s(6330),o=TypeError;t.exports=function(t,i){if(!delete t[i])throw o("Cannot delete property "+a(i)+" of "+a(t))}},541:function(t,i,s){var a=s(2109),o=s(7908),e=s(6244),n=s(3658),r=s(5117),l=s(7207),c=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:c||d},{unshift:function(t){var i=o(this),s=e(i),a=arguments.length;if(a){l(s+a);var c=s;while(c--){var d=c+a;c in i?i[d]=i[c]:r(i,d)}for(var u=0;u<a;u++)i[u]=arguments[u]}return n(i,s+a)}})},4238:function(t,i,s){s(541),s(7658);var a=s(9876),o=s(594),e=s(6294);const n=(0,e.Z)();i["Z"]=(0,a.Q_)("productStore",{state:()=>({productList:[],productCategoryList:[],pagination:{},categorys:[],categoryNow:"全部商品",product:{},similarList:[],animalList:[]}),actions:{getProducts(t=1){n.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/ldd-api/products?page=${t}`;o.Z.get(i).then((t=>{t.data.success&&(n.isLoading=!1,console.log(t),this.productList=t.data.products,this.productCategoryList=this.productList,this.pagination=t.data.pagination,this.getCategoryList())}))},categoryChange(t){this.categoryNow=t,this.productCategoryList="全部商品"===t?this.productList:this.productList.filter((i=>i.category===t))},getCategoryList(){const t=this.productList.map((t=>t.category));this.categorys=Array.from(new Set(t)),this.categorys.unshift("全部商品")},getProduct(t){n.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/ldd-api/product/${t}`;o.Z.get(i).then((t=>{t.data.success&&(n.isLoading=!1,this.product=t.data.product,this.getSimilar())}))},getSimilar(){this.similarList=[],n.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/ldd-api/products/all";o.Z.get(t).then((t=>{if(t.data.success){n.isLoading=!1;const i=t.data.products.filter((t=>t.category===this.product.category)),s=i.findIndex((t=>t.id===this.product.id)),a=[];for(let t=0;t<i.length;t++)a.push(t);a.sort((()=>.5-Math.random()));const o=a.findIndex((t=>t===s));a.splice(o,1),this.similarList.push(i[a[0]]),this.similarList.push(i[a[1]]),this.similarList.push(i[a[2]])}}))},getAnimalList(){n.isLoading=!0;const t="http://localhost:5000/animals";o.Z.get(t).then((t=>{n.isLoading=!1,console.log(t.data),this.animalList=t.data}))}}})},6294:function(t,i,s){var a=s(9876);i["Z"]=(0,a.Q_)("statusStore",{state:()=>({isLoading:!1,loadingItem:""})})},6922:function(t,i,s){s.r(i),s.d(i,{default:function(){return K}});var a=s(6252),o=s(3577);const e=(0,a._)("div",{class:"loadingio-spinner-ripple-o01nobacpbk"},[(0,a._)("div",{class:"ldio-0zlqpdibb6ki"},[(0,a._)("div"),(0,a._)("div")])],-1),n={class:"container p-6 mt-5"},r={class:"row row-cols-3 g-3 d-none d-md-flex"},l={class:"col"},c={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},d={class:"text-center mb-0 py-1"},u=["src"],g={class:"col"},p={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},h={class:"text-center mb-0 py-1"},m=["src"],w={class:"col"},v={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},y={class:"text-center mb-0 py-1"},L=["src"],f={class:"row row-cols-1 d-md-none"},_={class:"col"},b={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},x={class:"text-center mb-0 py-1"},k=["src"];function C(t,i,s,C,Z,D){const S=(0,a.up)("LoadingOverlay"),z=(0,a.up)("Swiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(S,{active:t.isLoading},{default:(0,a.w5)((()=>[e])),_:1},8,["active"]),(0,a._)("div",n,[(0,a._)("div",r,[(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.animalList,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==0}]),key:t.name},[(0,a._)("div",c,[(0,a._)("h3",d,(0,o.zw)(t.name),1)]),(0,a._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,u)],2)))),128))]),(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.animalList,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==1}]),key:t.name},[(0,a._)("div",p,[(0,a._)("h3",h,(0,o.zw)(t.name),1)]),(0,a._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,m)],2)))),128))]),(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.animalList,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==2}]),key:t.name},[(0,a._)("div",v,[(0,a._)("h3",y,(0,o.zw)(t.name),1)]),(0,a._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,L)],2)))),128))])]),(0,a._)("div",f,[(0,a._)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.animalList,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"rounded-4 border overflow-hidden my-3 position-relative animal",key:t.name},[(0,a._)("div",b,[(0,a._)("h3",x,(0,o.zw)(t.name),1)]),(0,a._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,k)])))),128))])])]),(0,a.Wm)(z,{animals:t.animalList},null,8,["animals"])],64)}var Z=s(9876),D=s(4238),S=s(6294),z=s(979),A={components:{Swiper:z.Z},computed:{...(0,Z.rn)(D.Z,["animalList"]),...(0,Z.rn)(S.Z,["isLoading"])},methods:{...(0,Z.nv)(D.Z,["getAnimalList"])},created(){this.getAnimalList()}},H=s(3744);const Y=(0,H.Z)(A,[["render",C]]);var K=Y}}]);
//# sourceMappingURL=242.ce28cbed.js.map