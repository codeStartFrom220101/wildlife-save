"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[159],{5117:function(t,i,s){var o=s(6330),e=TypeError;t.exports=function(t,i){if(!delete t[i])throw e("Cannot delete property "+o(i)+" of "+o(t))}},541:function(t,i,s){var o=s(2109),e=s(7908),r=s(6244),a=s(3658),c=s(5117),n=s(7207),l=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:l||d},{unshift:function(t){var i=e(this),s=r(i),o=arguments.length;if(o){n(s+o);var l=s;while(l--){var d=l+o;l in i?i[d]=i[l]:c(i,d)}for(var u=0;u<o;u++)i[u]=arguments[u]}return a(i,s+o)}})},4238:function(t,i,s){s(541),s(7658);var o=s(9876),e=s(594),r=s(6294);const a=(0,r.Z)();i["Z"]=(0,o.Q_)("productStore",{state:()=>({productList:[],productCategoryList:[],categorys:[],categoryNow:"全部商品",product:{},similarList:[],animalList:[]}),actions:{getProducts(t){a.isLoading=!0;const i="https://vue3-course-api.hexschool.io/api/ldd-api/products/all";e.Z.get(i).then((i=>{i.data.success&&(a.isLoading=!1,t?(this.productList=i.data.products.filter((t=>"動物"!==t.category)),this.productCategoryList=this.productList,this.pagination=i.data.pagination,this.getCategoryList()):this.animalList=i.data.products.filter((t=>"動物"===t.category)))}))},categoryChange(t){this.categoryNow=t,this.productCategoryList="全部商品"===t?this.productList:this.productList.filter((i=>i.category===t))},getCategoryList(){const t=this.productList.map((t=>t.category));this.categorys=Array.from(new Set(t)),this.categorys.unshift("全部商品")},getProduct(t){a.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/ldd-api/product/${t}`;e.Z.get(i).then((t=>{t.data.success&&(a.isLoading=!1,this.product=t.data.product,this.getSimilar())}))},getSimilar(){this.similarList=[],a.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/ldd-api/products/all";e.Z.get(t).then((t=>{if(t.data.success){a.isLoading=!1;const i=t.data.products.filter((t=>t.category===this.product.category)),s=i.findIndex((t=>t.id===this.product.id)),o=[];for(let t=0;t<i.length;t++)o.push(t);o.sort((()=>.5-Math.random()));const e=o.findIndex((t=>t===s));o.splice(e,1),this.similarList.push(i[o[0]]),this.similarList.push(i[o[1]]),this.similarList.push(i[o[2]])}}))}}})},6294:function(t,i,s){var o=s(9876);i["Z"]=(0,o.Q_)("statusStore",{state:()=>({isLoading:!1,loadingItem:""})})},3159:function(t,i,s){s.r(i),s.d(i,{default:function(){return k}});var o=s(6252),e=s(3577);const r={class:"container p-6 mt-5"},a={class:"row row-cols-3 g-3"},c={class:"col"},n={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},l={class:"text-center mb-0 py-1"},d=["src"],u={class:"col"},h={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},p={class:"text-center mb-0 py-1"},g=["src"],y={class:"col"},f={class:"position-absolute w-100 text-white",style:{"background-color":"rgba(0, 0, 0, 0.3)"}},m={class:"text-center mb-0 py-1"},w=["src"];function v(t,i,s,v,L,_){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",a,[(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,e.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==0}]),key:t.title},[(0,o._)("div",n,[(0,o._)("h3",l,(0,e.zw)(t.title),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,d)],2)))),128))]),(0,o._)("div",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,e.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==1}]),key:t.title},[(0,o._)("div",h,[(0,o._)("h3",p,(0,e.zw)(t.title),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,g)],2)))),128))]),(0,o._)("div",y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.animalList,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,e.C_)(["rounded-4 border overflow-hidden my-3 position-relative animal",{"d-none":i%3!==2}]),key:t.title},[(0,o._)("div",f,[(0,o._)("h3",m,(0,e.zw)(t.title),1)]),(0,o._)("img",{src:t.imageUrl,class:"w-100",alt:""},null,8,w)],2)))),128))])])])}var L=s(9876),_=s(4238),b={computed:{...(0,L.rn)(_.Z,["animalList"])},methods:{...(0,L.nv)(_.Z,["getProducts"])},created(){this.getProducts(!1)}},x=s(3744);const C=(0,x.Z)(b,[["render",v]]);var k=C}}]);
//# sourceMappingURL=159.c44ef061.js.map