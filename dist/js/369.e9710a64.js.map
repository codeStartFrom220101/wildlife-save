{"version":3,"file":"js/369.e9710a64.js","mappings":"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","sources":["webpack://new-project/./node_modules/core-js/internals/delete-property-or-throw.js","webpack://new-project/./node_modules/core-js/modules/es.array.unshift.js","webpack://new-project/./src/stores/cartStore.js","webpack://new-project/./src/stores/productStore.js","webpack://new-project/./src/stores/statusStore.js","webpack://new-project/./src/views/UserProduct.vue","webpack://new-project/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('cartStore', {\r\n  state: () => ({\r\n    // 購物車四頁資料\r\n    nowPage: '',\r\n    pageCount: 1,\r\n    order: {\r\n      user: {},\r\n      products: {}\r\n    },\r\n    // 購物車列表\r\n    cartList: []\r\n  }),\r\n  actions: {\r\n    getCartPage (page = 'cart') {\r\n      this.nowPage = page\r\n      switch (page) {\r\n        case 'cart':\r\n          this.pageCount = 1\r\n          break\r\n        case 'order':\r\n          this.pageCount = 2\r\n          break\r\n        case 'checkout':\r\n          this.pageCount = 3\r\n          break\r\n        case 'finished':\r\n          this.pageCount = 4\r\n          setTimeout(() => {\r\n            this.pageCount++\r\n          }, 1500)\r\n          break\r\n      }\r\n    },\r\n    getOrder (id) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          const order = res.data.order\r\n          this.order = order\r\n        })\r\n    },\r\n    addToCart (product, qty = 1) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      status.loadingItem = product.id\r\n      const cart = {\r\n        product_id: product.id,\r\n        qty: qty\r\n      }\r\n      axios.post(api, { data: cart })\r\n        .then((res) => {\r\n          // this.pushMessageState(res, `${product.title ? `\"${product.title}\"` : ''}放入購物車`)\r\n          status.loadingItem = ''\r\n          this.getCartData()\r\n        })\r\n    },\r\n    getCartData () {\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            this.cartList = res.data.data.carts\r\n          }\r\n        })\r\n    },\r\n    delProductFromCart (id) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      axios.delete(api)\r\n        .then((res) => {\r\n          this.getCartData()\r\n        })\r\n    },\r\n    updateCart (product) {\r\n      status.isLoading = true\r\n      status.loadingItem = product.id\r\n      const cart = {\r\n        product_id: product.product_id,\r\n        qty: product.qty\r\n      }\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${product.id}`\r\n      this.$http.put(api, { data: cart })\r\n        .then(() => {\r\n          status.isLoading = false\r\n          status.loadingItem = ''\r\n          this.getCartData()\r\n        })\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('productStore', {\r\n  state: () => ({\r\n    productList: [],\r\n    productCategoryList: [],\r\n    categorys: [],\r\n    categoryNow: '全部商品',\r\n    // 單一產品\r\n    product: {},\r\n    similarList: [],\r\n    // 動物列表\r\n    animalList: []\r\n  }),\r\n  actions: {\r\n    // 產品列表\r\n    getProducts (whichList) {\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            if (whichList) {\r\n              this.productList = res.data.products.filter(product => product.category !== '動物')\r\n              this.productCategoryList = this.productList\r\n              this.pagination = res.data.pagination\r\n              this.getCategoryList()\r\n            } else {\r\n              this.animalList = res.data.products.filter(product => product.category === '動物')\r\n            }\r\n          }\r\n        })\r\n    },\r\n    categoryChange (category) {\r\n      this.categoryNow = category\r\n      this.productCategoryList = category === '全部商品' ? this.productList : this.productList.filter(product => product.category === category)\r\n    },\r\n    getCategoryList () {\r\n      const categoryAll = this.productList.map((product) => product.category)\r\n      this.categorys = Array.from(new Set(categoryAll))\r\n      this.categorys.unshift('全部商品')\r\n    },\r\n    // 單產品介面\r\n    getProduct (id) {\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            this.product = res.data.product\r\n            this.getSimilar()\r\n          }\r\n        })\r\n    },\r\n    getSimilar () {\r\n      this.similarList = []\r\n      status.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      axios.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            const arr = res.data.products.filter(product => product.category === this.product.category)\r\n            const index = arr.findIndex(product => product.id === this.product.id)\r\n            const randomNum = []\r\n            for (let i = 0; i < arr.length; i++) {\r\n              randomNum.push(i)\r\n            }\r\n            randomNum.sort(() => 0.5 - Math.random())\r\n            const removeIndex = randomNum.findIndex(num => num === index)\r\n            randomNum.splice(removeIndex, 1)\r\n            this.similarList.push(arr[randomNum[0]])\r\n            this.similarList.push(arr[randomNum[1]])\r\n            this.similarList.push(arr[randomNum[2]])\r\n          }\r\n        })\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: false,\r\n    loadingItem: ''\r\n  })\r\n})\r\n","<template>\r\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\r\n  <div class=\"container py-6\">\r\n    <div class=\"row justify-content-center g-3 g-md-5\">\r\n      <div class=\"col-md-6 col-lg-5\" style=\"height: 500px;\">\r\n        <img :src=\"product.imageUrl\" alt=\"\" class=\"w-100 h-100 object-fit-cover\">\r\n      </div>\r\n      <div class=\"col-md-6 col-lg-5\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <h2 class=\"fw-bold-bottom pb-3\">\r\n              {{ product.title }}<br>\r\n              <span class=\"text-white bg-secondary rounded fs-7 px-2 py-1\">{{ product.category }}</span>\r\n            </h2>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <div class=\"border-bottom\">\r\n              <p class=\"mb-0\">【產品描述】</p>\r\n              <div class=\"text-success lh-lg\">{{ product.description }}</div>\r\n              <div v-if=\"product.category === '衣服'\" class=\"mb-3\">\r\n                <span>尺寸: </span>\r\n                <div class=\"form-check form-check-inline\">\r\n                  <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios1\" value=\"option1\" checked>\r\n                  <label class=\"form-check-label\" for=\"exampleRadios1\">\r\n                    S\r\n                  </label>\r\n                </div>\r\n                <div class=\"form-check form-check-inline\">\r\n                  <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios2\" value=\"option2\">\r\n                  <label class=\"form-check-label\" for=\"exampleRadios2\">\r\n                    M\r\n                  </label>\r\n                </div>\r\n                <div class=\"form-check form-check-inline\">\r\n                  <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios3\" value=\"option3\">\r\n                  <label class=\"form-check-label\" for=\"exampleRadios3\">\r\n                    L\r\n                  </label>\r\n                </div>\r\n                <div class=\"form-check form-check-inline\">\r\n                  <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios3\" value=\"option3\">\r\n                  <label class=\"form-check-label\" for=\"exampleRadios3\">\r\n                    XL\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                  <div class=\"input-group mb-3\">\r\n                    <a href=\"#\" @click.prevent=\"qtyCount(true)\" class=\"input-group-text btn btn-primary\" id=\"basic-addon1\" :class=\"{'disabled': loadingItem}\"><font-awesome-icon icon=\"fa-solid fa-caret-up\" /></a>\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"你想購買的數量\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" v-model=\"qty\" :disabled=\"loadingItem !== ''\">\r\n                    <a href=\"#\" @click.prevent=\"qtyCount(false)\" class=\"input-group-text btn btn-primary\" id=\"basic-addon1\" :class=\"{'disabled': loadingItem}\"><font-awesome-icon icon=\"fa-solid fa-caret-down\"/></a>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <div class=\"fs-5 text-end mb-1\">NT {{ product.price }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex mt-3\">\r\n            <button type=\"button\" @click=\"addToCart(product, qty)\" class=\"btn btn-primary px-3 d-block ms-auto\" :disabled=\"qty === 0 || loadingItem !== ''\" style=\"width: 150px\">\r\n              <div  v-if=\"!loadingItem\">\r\n                <font-awesome-icon icon=\"fa-solid fa-cart-plus\"/>\r\n                加入購物車\r\n              </div>\r\n              <div class=\"spinner-border spinner-border-sm text-white\"  role=\"status\" v-else>\r\n                <span class=\"visually-hidden\"></span>\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <h3 class=\"h4 text-center mt-md-6 mt-5 similarTitle\">為您推薦相似</h3>\r\n    <div class=\"row row-cols-md-3 row-cols-1 g-3 g-lg-5 mt-3\">\r\n      <div class=\"col\" v-for=\"(similarProduct) in similarList\" :key=\"similarProduct.id\">\r\n        <div class=\"card h-100\">\r\n          <div class=\"container-img\">\r\n            <img :src=\"similarProduct.imageUrl\" class=\"card-img-top object-fit-cover\" :alt=\"similarProduct.title\" style=\"height: 200px;\">\r\n          </div>\r\n          <div class=\"card-body d-flex flex-column\">\r\n            <h5 class=\"card-title\">{{ similarProduct.title }} <span class=\"text-white bg-secondary rounded fs-8 px-1 ms-2\">{{ similarProduct.category }}</span></h5>\r\n            <div class=\"d-flex flex-column justify-content-between h-100\">\r\n              <p class=\"card-text mb-1 fs-7\">{{ similarProduct.description }}</p>\r\n              <p class=\"card-text text-end \">$NT {{ similarProduct.price }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-footer\">\r\n            <router-link :to=\"`/userboard/productList/${similarProduct.id}`\" @click.prevent=\"getProduct(similarProduct.id);\" class=\"btn btn-outline-primary\" :class=\"{'stretched-link' : loadingItem !== similarProduct.id && loadingItem === ''}\">查看商品</router-link>\r\n            <a href=\"#\" @click.prevent=\"addToCart(similarProduct)\" class=\"btn btn-outline-primary position-absolute cartBtn fs-4 d-block\" :class=\"{'disabled' : loadingItem === similarProduct.id}\">\r\n              <div class=\"d-flex align-items-center justify-content-center\" style=\"width: 24px; height: 24px;\">\r\n                <font-awesome-icon v-if=\"loadingItem !== similarProduct.id\" icon=\"fa-solid fa-cart-plus\"/>\r\n                <div class=\"spinner-grow text-primary spinner-grow-sm\" role=\"status\" v-else>\r\n                  <span class=\"visually-hidden\"></span>\r\n                </div>\r\n              </div>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.banner {\r\n  background-image: url('@/assets/product-banner.jpg');\r\n  background-size: cover;\r\n  background-position: 50% 50%;\r\n  height: 560px;\r\n  width: 100%;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .banner {\r\n    background-image: url('@/assets/product-banner-sm.jpg');\r\n  }\r\n}\r\n\r\n.similarTitle::before, .similarTitle::after {\r\n  content: '———';\r\n  margin: 1rem;\r\n  width: 200px;\r\n  height: 1px;\r\n  color: var(--bs-primary);\r\n}\r\n\r\n.card {\r\n  transition: all .5s;\r\n  overflow: hidden;\r\n}\r\n\r\n.card:hover {\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, .15), 0 0 5px rgba(0, 0, 0, .15), 0 0 10px rgba(0, 0, 0, .15);\r\n}\r\n\r\n.container-img {\r\n  overflow: hidden;\r\n}\r\n\r\n.card img {\r\n  transition: all .5s;\r\n}\r\n\r\n.card:hover img {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.stretched-link::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.card .cartBtn {\r\n  transition: all .3s;\r\n  z-index: 2;\r\n  bottom: .5rem;\r\n  right: 1rem;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'pinia'\r\nimport cartStore from '@/stores/cartStore'\r\nimport productStore from '@/stores/productStore'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      qty: 1\r\n    }\r\n  },\r\n  inject: ['pushMessageState', 'emitter'],\r\n  props: ['id'],\r\n  computed: {\r\n    ...mapState(productStore, ['product', 'similarList']),\r\n    ...mapState(statusStore, ['isLoading', 'loadingItem'])\r\n  },\r\n  methods: {\r\n    ...mapActions(cartStore, ['addToCart']),\r\n    ...mapActions(productStore, ['getProduct']),\r\n    qtyCount (whichBtn) {\r\n      whichBtn ? this.qty++ : this.qty > 0 ? this.qty-- : this.qty = 0\r\n    }\r\n  },\r\n  created () {\r\n    this.getProduct(this.id)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProduct.vue?vue&type=template&id=6e8cc167&scoped=true\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport \"./UserProduct.vue?vue&type=style&index=0&id=6e8cc167&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\沈長昱\\\\Desktop\\\\程式資料夾\\\\Vue3\\\\vue3 電商\\\\new-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e8cc167\"]])\n\nexport default __exports__"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","unshift","SILENT_ON_NON_WRITABLE_LENGTH","Object","defineProperty","writable","error","target","proto","arity","forced","item","this","len","argCount","arguments","length","k","to","j","status","statusStore","defineStore","state","nowPage","pageCount","order","user","products","cartList","actions","getCartPage","page","setTimeout","getOrder","id","api","axios","then","res","data","addToCart","product","qty","loadingItem","cart","product_id","getCartData","isLoading","success","carts","delProductFromCart","updateCart","$http","put","productList","productCategoryList","categorys","categoryNow","similarList","animalList","getProducts","whichList","filter","category","pagination","getCategoryList","categoryChange","categoryAll","map","Array","from","Set","getProduct","getSimilar","arr","index","findIndex","randomNum","i","push","sort","Math","random","removeIndex","num","splice","class","style","_createElementVNode","_hoisted_16","role","_hoisted_32","_hoisted_49","_createVNode","_component_LoadingOverlay","active","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","src","imageUrl","alt","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","title","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","description","_createElementBlock","_hoisted_15","_hoisted_22","_hoisted_23","_hoisted_24","href","onClick","$options","_component_font_awesome_icon","icon","type","placeholder","$data","disabled","_hoisted_26","_hoisted_27","price","_hoisted_28","_hoisted_31","_hoisted_34","_hoisted_35","_Fragment","similarProduct","key","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_component_router_link","_hoisted_47","_createBlock","_hoisted_48","inject","props","computed","mapState","productStore","methods","mapActions","cartStore","qtyCount","whichBtn","created","__exports__","render"],"sourceRoot":""}